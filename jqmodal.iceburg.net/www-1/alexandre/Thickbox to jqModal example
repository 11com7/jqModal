<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head> 

    
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link rel="shortcut icon" href="http://localhost/lab-au.com/dev/favicon.ico">
        <link rel="stylesheet" type="text/css" media="screen" href="Thickbox%20to%20jqModal%20example_files/style.css">
        <link rel="stylesheet" type="text/css" media="screen" href="Thickbox%20to%20jqModal%20example_files/jqModal.css">
        <title>Thickbox to jqModal example</title>
        <!--
        .................................................................................
        CSS
        .................................................................................
        -->
        <style type="text/css">
            .jqmWindow {
                background: #FFFFFF url(main_background.gif) left top repeat-x;
                color: #000;
                border: 1px solid #EAEAEB;
                padding: 0 0px 37px;
            }
            
            button.jqmClose {
                background: #DDD;
                border: 0px solid #EAEAEB;
                color: #111;
                clear: right;
                float: right;
                padding: 0 5px;
                cursor: pointer;
                font-size: 8px;
                height: 15px;
                letter-spacing: 1px;
            }
            
            button.jqmClose:hover, button.jqmClose:focus {
                background: #FFF;
                color: #000;
				border: 0px solid #FFF;
            }
			     
            #jqmTitle {
                background: transparent;
                color: black;
                text-transform: uppercase;
                height: 15px;
                padding: 5px;
            }
            
            #jqmContent {
                width: 99%;
                height: 99%;
                display: block;
                clear: both;
                margin: auto;
                margin-top: 10px;
                background: #FFF;
                border: 1px solid #EAEAEB;
            }
        </style>
        <!--
        .................................................................................
        JAVASCRIPT
        .................................................................................
        -->
        <script type="text/javascript" src="Thickbox%20to%20jqModal%20example_files/jquery.js">
        </script>
        <script src="Thickbox%20to%20jqModal%20example_files/jqModal.js" type="text/javascript">
        </script>
        <script type="text/javascript">
            $(document).ready(function(){
                // onHide : fade the window out, remove overlay after fade.
                var myClose = function(hash){
                    hash.w.fadeOut('3000', function(){
                        hash.o.remove();
                    });
                };
                var openInIframe = function(hash){
                    var newWidth = 0, newHeight = 0, newLeft = 0, newTop = 0;
                    var $trigger = $(hash.t);
                    var $modal = $(hash.w);
                    var myUrl = $trigger.attr('href');
                    var myTitle = $trigger.attr('title');
                    var $modalContent = $("iframe", $modal);
                    
                    $modalContent.html('').attr('src', myUrl);
                    //let's use the anchor "title" attribute as modal window title
                    $('#jqmTitleText').text(myTitle);
                    
                    myUrl = (myUrl.lastIndexOf("#") > -1) ? myUrl.slice(0, myUrl.lastIndexOf("#")) : myUrl;
                    var queryString = (myUrl.indexOf("?") > -1) ? myUrl.substr(myUrl.indexOf("?") + 1) : null;
                    
                    if (queryString != null && typeof queryString != 'undefined') {
                        var queryVarsArray = queryString.split("&");
                        for (var i = 0; i < queryVarsArray.length; i++) {
                            if (unescape(queryVarsArray[i].split("=")[0]) == 'width') {
                                var newWidth = queryVarsArray[i].split("=")[1];
                            }
                            if (escape(unescape(queryVarsArray[i].split("=")[0])) == 'height') {
                                var newHeight = queryVarsArray[i].split("=")[1];
                            }
                        }
                        // let's run through all possible values: 90%, nothing or a value in pixel
                        if (newHeight != 0) {
                            if (newHeight.indexOf('%') > -1) {
                                newHeight = Math.floor(parseInt($(window).height()) * (parseInt(newHeight) / 100));
                            }
                            var newTop = Math.floor(parseInt($(window).height() - newHeight) / 2);
                        }
                        else {
                            newHeight = $modal.height();
                        }
                        if (newWidth != 0) {
                            if (newWidth.indexOf('%') > -1) {
                                newWidth = Math.floor(parseInt($(window).width() / 100) * parseInt(newWidth));
                            }
                            var newLeft = Math.floor(parseInt($(window).width() / 2) - parseInt(newWidth) / 2);
                            
                        }
                        else {
                            newWidth = $modal.width();
                        }
                        // do the animation so that the windows stays on center of screen despite resizing
                        $modal.jqmShow().animate({
                            width: newWidth,
                            height: newHeight,
                            top: newTop,
                            left: newLeft,
                            marginLeft: 0
                        }, 2000);
                    }
                    
                    else {
                        // don't do animations
                        $modal.jqmShow();
                    }
                }
                
                //thickbox replacement
                $('#modalWindow').jqm({
                    modal: true,
                    trigger: 'a.thickbox',
                    target: '#jqmContent',
                    onHide: myClose,
                    onShow: openInIframe
                });
                
            })
        </script>
    </head><body>
    <!-- HEADER -->
    <div id="header">
        <h1>Thickbox to jqModal example</h1>
    </div>
    <!-- end HEADER -->
    <div id="main">
        <p>
            Let's see what <a href="http://www.google.com/search?q=jqmodal&amp;width=90%&amp;height=50%" class="thickbox" title="g00gle knows it all">google thinks</a>
            of jqModal !
        </p>
        <p>
            And what does <a href="http://search.live.com/results.aspx?q=jqmodal&amp;go=&amp;form=QBLH&amp;width=50%&amp;height=80%" title="Bill is in da House" class="thickbox">MSN Live</a>
            think of <a class="thickbox" href="http://dev.iceburg.net/jquery/jqModal/?width=79%&amp;height=90%" title="The swiss-army knife of a modal world">jqmodal</a>? Wooh, a lot !
        </p>
        <p>
            If you wonder what this page is about, how about <a title="jqModal iframe mode explained" href="http://www.pixeline.be/blog/2008/javascript-loading-external-urls-in-jqmodal-jquery-plugin/?width=95%&amp;height=80%" class="thickbox">reading the dedicated blog post</a>
            ?
        </p>
    </div>
    <!-- end MAIN -->
    
    <div id="modalWindow" class="jqmWindow jqmID1">
        <div id="jqmTitle">
            <button class="jqmClose">
                Close X
            </button>
            <span id="jqmTitleText">Title of modal window</span>
        </div>
        <iframe id="jqmContent" src="">
        </iframe>
    </div>
    <script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="Thickbox%20to%20jqModal%20example_files/ga.js" type="text/javascript"></script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-162823-7");
pageTracker._initData();
pageTracker._trackPageview();
</script></body></html>